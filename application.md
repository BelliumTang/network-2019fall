## 应用层

a:客户/服务器应用模型与P2P应用模型

b:DNS系统（层次域名空间、域名服务器、域名解析过程）

c:FTP（FTP协议的工作原理、控制连接与数据连接）

d:电子邮件系统（组成结构、邮件格式与MIME、SMTP与POP3）

e:WWW（WWW的概念与组成结构、HTTP协议）

f:P2P文件分发应用的基本原理

### 应用层协议

应用层协议定义了运行在不同端系统上的应用程序进程如何相互传递报文。特别是，应用程序定义了：

- 交换的报文类型，例如请求报文和响应报文
- 各种报文类型的语法，如报文中的各个字段及这些字段是如何描述的
- 字段的语义，即这些字段中的信息的含义
- 确定一个进程何时以及如何发送报文，对报文进行响应的规则

### 客户/服务器应用模型与P2P应用模型

### DNS系统（层次域名空间、域名服务器、域名解析过程）

DNS系统

- 分层的**DNS**服务器实现的**分布式**数据库；域名向IP地址的翻译的应用层协议，多对一

- 使用UDP，运行在53号端口
- 服务
  - 域名向IP地址的
- 层级体系
  - TLD 顶级域名服务器 .com, .org, .edu等
  - 权威域名服务器
  - 本地域名服务器
- 查询方式
  - 迭代查询
  - 递归查询
  - 本地域名服务器默认提供递归查询

DNS记录—资源记录(RR resource records)

- Type = A 
  - Name：主机域名
  - Value： IP地址
- Type = NS
  - Name：域(例 edu.cn)
  - Value：该域权威域名解析服务器的主机域名
- Type = CNAME
  - Name：某一真实域名的别名
  - Value：真实域名
- Type = MX
  - Name：邮件服务器的别名
  - Value：邮件服务器的真实域名



### FTP（FTP协的工作原理、控制连接与数据连接）

使用TCP，控制端口号21，数据传输端口号20

### 电子邮件系统（组成结构、邮件格式与MIME、SMTP与POP3）

##### SMTP

- 邮件传输协议

- 使用TCP，端口号25，命令/响应交互模式
- 传输过程三阶段：握手、传输信息、关闭

##### POP3

- 邮件访问协议

- 很简单，使用TCP，端口号110
- 三阶段：authorization、事务处理、更新

##### IMAP

- 邮件访问协议
- 

##### 

### WWW（WWW的概念与组成结构、HTTP协议）

### P2P文件分发应用的基本原理

P2P文件传输时间计算

#### BitTorrent



- 集中式索引
- 分布式索引（泛洪查询）
- 层次式覆盖网络
  - 分为超级节点或普通节点
  - 节点和超级节点之间维持TCP连接，超级节点对之间维持TCP连接

#### P2P索引技术

DHT: a distributed P2P database.

环形DHT



### 例题

1. 

![image-20200813144619626](C:\Users\89597\AppData\Roaming\Typora\typora-user-images\image-20200813144619626.png)

```
非持久连接 HTTP/1.0 8*RTT
并行连接 HTTP/1.0 4*RTT
非管道化持久 HTTP/1.1 5*RTT
管道化持久连接 HTTP/1.1 3*RTT
```

