---
typora-copy-images-to: images
---

## 数据链路层

a:数据链路层的功能

b:差错控制（检错编码、纠错编码）

c:流量控制、可靠传输与滑动窗口机制

d:停止－等待协议、后退N帧协议（GBN）、选择重传协议（SR）

e:介质访问控制（MAC）协议（信道划分、随机访问、轮询访问，无冲突协议）

f:局域网（以太网、IEEE802.11）

g:网桥、局域网交换机的概念及其基本原理

### 数据链路层的功能

为网络层提供服务、链路管理、帧定界、帧同步与透明传输、流量控制和差错控制

- 无确认的无连接服务，如以太网
- 有确认的无连接服务，如无线通信
- 有确认的有连接服务

组帧

1. 字符计数法![image-20200106235203191](E:\Onedrive\2019fall\计算机网络\review\images\image-20200106235203191.png)

2. 字符填充的首位定界符法

   即escape字符法

3. 比特填充的标志比特法

   `01111110`作为首尾标志，payload内每五个1后面补充一个0

### 差错控制（检错编码、纠错编码）

检错编码

1. 奇偶校验码

2. 循环冗余码(CRC)

   对于m bit 的帧，发送器生成一个r bit的帧检验序列(FCS)，计算CRC的步骤：

   1. 在帧的低位端加上r个0
   2. 利用模2除法（加法不进位，减法不借位，即异或运算）计算出的余数即为CRC
   3. 用步骤2计算出的CRC替代帧低位加上的r个0，同时传输m+r比特数据

   接收端对接收到的数据也使用模2除法，如果余数不为0，说明传输过程出现了差错

纠错编码

​	海明码：纠错d位，需要码距2d+1的编码方案；检错d位，只需要码距为d+1

### 流量控制、可靠传输与滑动窗口机制

流量控制 —— 滑动窗口协议

- 停止-等待协议（ 发送窗口=1，接收窗口=1）
- 后退N帧协议 （ 发送窗口=N，接收窗口=1） 窗口大小W， 1<W<=2^n-1
- 选择重传协议 （ 发送窗口>1，接收窗口>1）

可靠传输 —— 自动重传请求（ARQ）

​	数据链路层的可靠传输通常使用**确认**和**重传**两种机制来完成。确认是无数据的控制帧，也可将确认捎带在数据帧中

**信道效率**（信道利用率）：发送方在一个发送周期内，有效地发送数据所需要的时间占整个发送周期的比率

**信道吞吐率** ： 信道利用率 * 发送方的发送速率

### 停止－等待协议、后退N帧协议（GBN）、选择重传协议（SR）

- 停止-等待协议

- 后退N帧协议

  采用累积确认，发送窗口的尺寸应满足 1 ≤ W ≤ (2^n)-1

  其能达到的**信道利用率**= N*传输延迟 / (RTT + 一个发送帧的传输延迟 + 确认帧的传输延迟)

  能达到的**最大平均数据传输率** = min{ N*数据帧长/(RTT + 一个发送帧的传输延迟 + 确认帧的传输延迟)，信道带宽}

  **[注]**：计算信道利用率和数据传输率时，分子计算的是帧中数据部分的传输时间，分母计算的是总共的传输时间

- 选择重传协议

  接收端逐个确认正确接收的分组，ACK分组不再有累积确认的作用

  一般情况下，接受端窗口 = 发送端窗口 = 2^(n-1)

### 介质访问控制（MAC）协议（信道划分、随机访问、轮询访问，无冲突协议）

信道划分：信道划分均不会产生冲突

- 频分多路复用（FDM）将带宽分割成若干个不相交和子信道，每个子信道传输一种信号
- 时分多路复用（TDM）将物理信道按时间分为若干时间片，轮流给不同信号使用
- 波分多路复用（WDM）在一根光纤中传输多种不同波长(频率)的光信号
- 码分多路复用（CDM）靠不同的编码来区分各路原始信号
- 码分多址（CDMA）通过正交的码片来区分不同站点，信道上传输的是对所有码片求和的值

随机访问

- 纯ALOHA
- 时隙ALOHA
- CSMA
  - 1-坚持
  - 非坚持
  - p-坚持
- CSMA/CD
- CSMA/CA

轮询访问：令牌传递协议

### 局域网（以太网、IEEE802.11）



### 网桥、局域网交换机的概念及其基本原理

网桥处理数据的对象是帧，工作在链路层；中继器和放大器处理的对象是信号，工作在物理层。

中继器工作在物理层，用来连接两个速率相同且数据链路层协议也相同的网段，其功能是消除数字信号在基带传输中由于经过一长段电缆而造成的失真和衰减，使信号的波形和强度达到所需的要求；其原理是信号再生...